!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.reactLayoutPack=e(require("react")):t.reactLayoutPack=e(t.React)}(this,function(t){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function o(t,e,i){var o,n;return function(){var r=Date.now(),s=arguments;o&&o+e>r?(clearTimeout(n),n=setTimeout(function(){o=r,t.apply(i,s)},e)):(o=r,t.apply(i,s))}}var n=i(1),r=n.PropTypes,s=n.createClass({displayName:"PackLayout",propTypes:{tag:r.string,columnWidth:r.number,itemMargin:r.number,repositionOnResize:r.bool,resizeThrottleTimeout:r.number},getDefaultProps:function(){return{tag:"ul",itemMargin:10,repositionOnResize:!0,resizeThrottleTimeout:250}},getColumnArray:function(){for(var t=this.el.offsetWidth,e=this.getColumnWidth(),i=Math.floor(t/(e+this.props.itemMargin)),o=[],n=0;i>n;n++)o.push(this.props.itemMargin);return o},reposition:function(){for(var t=this.getColumnArray(),e=this.el.childNodes,i=this.props.itemMargin,o=this.getColumnWidth(),n=0;n<e.length;n++){for(var r=+(1/0),s=0,p=0;p<t.length;p++)t[p]<r&&(r=t[p],s=p);var a=i+s*(o+2*i);e[n].style.left=a+"px",e[n].style.top=r+"px",t[s]=r+e[n].offsetHeight+i}},getColumnWidth:function(){return this.props.columnWidth||this.el.childNodes[0].offsetWidth},componentDidMount:function(){this.el=this.refs.container,this.el instanceof window.Node||(this.el=this.el.getDOMNode()),this.onWindowResize=o(this.reposition,this.props.resizeThrottleTimeout,this),this.props.repositionOnResize&&window.addEventListener("resize",this.onWindowResize,!1),this.reposition()},componentDidUpdate:function(){this.reposition()},componentWillUnmount:function(){this.props.repositionOnResize&&window.removeEventListener("resize",this.onWindowResize,!1)},render:function(){var t=n.DOM[this.props.tag],e={ref:"container",className:this.props.className};return t(e,this.props.children)}});t.exports=s},function(e,i){e.exports=t}])});